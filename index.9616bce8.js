let e=[{x:2,y:3},{x:2,y:4},{x:2,y:5}];class t{static#e=e;static getObstacles(){return this.#e}static setObstacles(e){this.#e=e}static onObstacle=e=>!!this.getObstacles().some((t=>t.x===e.x&&t.y===e.y))}class s{static points=0;static getPoints(){return this.points}static setPoints(e){this.points=e}}let n={x:7,y:8},o={x:5,y:6};const a=()=>n,l=()=>o,r=()=>{f(a())?(s.setPoints(s.getPoints()+M),w(),c(),d()&&i()):f(l())&&(s.setPoints(s.getPoints()+4*M),w(),o=null)},c=()=>{let e=null;for(;null===e||f(e)||t.onObstacle(e);){e={x:Math.floor(Math.random()*C),y:Math.floor(Math.random()*C)}}(e=>{n={...e}})(e)},d=()=>{if(l())return!1;return Math.floor(2*Math.random())%3==0},i=()=>{let e=null;for(;null===e||f(e)||t.onObstacle(e);){e={x:Math.floor(Math.random()*C),y:Math.floor(Math.random()*C)}}var s;s=e,o={...s}};let y={x:-1,y:0};const m=e=>{switch(e){case"ArrowLeft":0===u().y&&(y={x:0,y:-1});break;case"ArrowRight":0===u().y&&(y={x:0,y:1});break;case"ArrowUp":0===u().x&&(y={x:-1,y:0});break;case"ArrowDown":0===u().x&&(y={x:1,y:0})}};document.addEventListener("keydown",(e=>{const t=e.key;m(t)}));const u=()=>y;addEventListener("click",(e=>{const t=e.target.getAttribute("data-key");let s=null;if(t){switch(Number(t)){case 37:s="ArrowLeft";break;case 39:s="ArrowRight";break;case 38:s="ArrowUp";break;case 40:s="ArrowDown"}s&&m(s)}}));let x=[{x:10,y:10},{x:11,y:10},{x:12,y:10}];const g=()=>x,b=e=>x=[...e],h=()=>{let e=[...g()];const t=u();for(let t=e.length-2;t>=0;t--)e[t+1]={...e[t]};e=e.slice(1);const s={x:e[0].x+t.x,y:e[0].y+t.y};b([s,...e])},f=(e,t)=>{if(!e)return!1;return!!(t?.withoutHead?[...g()].slice(1):g()).some((t=>t.x===e.x&&t.y===e.y))},w=()=>{const e=g();e[e.length]=e[e.length-1],b(e)},p=(e,t)=>{if(e){const{x:s,y:n}=e;document.getElementsByClassName(`board-element-${s}-${n}`)[0].classList.add(t)}},k=()=>{v?(()=>{for(let e=0;e<C;e++)for(let t=0;t<C;t++)document.getElementsByClassName(`board-element-${e}-${t}`)[0].classList.remove("body-segment","food-segment","food-segment--extra","body-segment--head")})():(()=>{const e=document.getElementById("game-board");e.innerHTML="",e.style.gridTemplateColumns=`repeat(${C}, 1fr)`,e.style.gridTemplateRows=`repeat(${C}, 1fr)`;for(let t=0;t<C;t++)for(let s=0;s<C;s++){const n=document.createElement("div");n.classList.add("board-element",`board-element-${t}-${s}`),e.appendChild(n)}})();const e=document.getElementById("x"),n=document.getElementById("y"),o=document.getElementById("points");e&&n&&(e.textContent=g()[0].x,n.textContent=g()[0].y),o.textContent=s.getPoints(),g().map((({x:e,y:t},s)=>{const n=document.getElementsByClassName(`board-element-${e}-${t}`);n.length&&(0===s&&n?.[0].classList?.add("body-segment--head"),n?.[0].classList?.add("body-segment"))})),p(a(),"food-segment"),p(l(),"food-segment--extra"),t.getObstacles().map((({x:e,y:t},s)=>{const n=document.getElementsByClassName(`board-element-${e}-${t}`);n.length&&n?.[0].classList?.add("obstacle")}))},E=()=>{const e=g();f(e[0],{withoutHead:!0}),t.onObstacle(e[0],{withoutHead:!0}),e[0].x<0||e[0].y<0||e[0].x>=C||e[0].y},L=document.getElementById("play-music-button"),$=document.getElementById("player");L.addEventListener("click",(e=>{$.paused?($.play(),L.textContent="Pause music"):($.pause(),L.textContent="Play music")})),window.addEventListener("keyup",(function(e){document.querySelector(`.arrow-key[data-key="${e.keyCode}"]`).classList.remove("press")})),window.addEventListener("keydown",(function(e){document.querySelector(`.arrow-key[data-key="${e.keyCode}"]`).classList.add("press")}));const C=11,M=2;let v=!1;window.setInterval((()=>{B(),k(),v=!0}),1e3/M);const B=()=>{h(),r(),E()};
//# sourceMappingURL=index.9616bce8.js.map
