let e=[{x:2,y:3},{x:2,y:4},{x:2,y:5}];class t{static#e=e;static getObstacles(){return this.#e}static setObstacles(e){this.#e=e}static onObstacle=e=>!!this.getObstacles().some((t=>t.x===e.x&&t.y===e.y))}class s{static points=0;static getPoints(){return this.points}static setPoints(e){this.points=e}}let n={x:7,y:8},o={x:5,y:6};const a=()=>n,l=()=>o,d=()=>{b(a())?(s.setPoints(s.getPoints()+C),f(),r(),c()&&y()):b(l())&&(s.setPoints(s.getPoints()+4*C),f(),o=null)},r=()=>{let e=null;for(;null===e||b(e)||t.onObstacle(e);){e={x:Math.floor(Math.random()*$),y:Math.floor(Math.random()*$)}}(e=>{n={...e}})(e)},c=()=>{if(l())return!1;return Math.floor(2*Math.random())%3==0},y=()=>{let e=null;for(;null===e||b(e)||t.onObstacle(e);){e={x:Math.floor(Math.random()*$),y:Math.floor(Math.random()*$)}}var s;s=e,o={...s}};let m={x:-1,y:0};document.addEventListener("keydown",(e=>{switch(e.key){case"ArrowLeft":0===i().y&&(m={x:0,y:-1});break;case"ArrowRight":0===i().y&&(m={x:0,y:1});break;case"ArrowUp":0===i().x&&(m={x:-1,y:0});break;case"ArrowDown":0===i().x&&(m={x:1,y:0})}}));const i=()=>m;let u=[{x:10,y:10},{x:11,y:10},{x:12,y:10}];const x=()=>u,g=e=>u=[...e],h=()=>{let e=[...x()];const t=i();for(let t=e.length-2;t>=0;t--)e[t+1]={...e[t]};e=e.slice(1);const s={x:e[0].x+t.x,y:e[0].y+t.y};g([s,...e])},b=(e,t)=>{if(!e)return!1;return!!(t?.withoutHead?[...x()].slice(1):x()).some((t=>t.x===e.x&&t.y===e.y))},f=()=>{const e=x();e[e.length]=e[e.length-1],g(e)},p=(e,t)=>{if(e){const{x:s,y:n}=e;document.getElementsByClassName(`board-element-${s}-${n}`)[0].classList.add(t)}},w=()=>{M?(()=>{for(let e=0;e<$;e++)for(let t=0;t<$;t++)document.getElementsByClassName(`board-element-${e}-${t}`)[0].classList.remove("body-segment","food-segment","food-segment--extra","body-segment--head")})():(()=>{const e=document.getElementById("game-board");e.innerHTML="",e.style.gridTemplateColumns=`repeat(${$}, 1fr)`,e.style.gridTemplateRows=`repeat(${$}, 1fr)`;for(let t=0;t<$;t++)for(let s=0;s<$;s++){const n=document.createElement("div");n.classList.add("board-element",`board-element-${t}-${s}`),e.appendChild(n)}})();const e=document.getElementById("x"),n=document.getElementById("y"),o=document.getElementById("points");e&&n&&(e.textContent=x()[0].x,n.textContent=x()[0].y),o.textContent=s.getPoints(),x().map((({x:e,y:t},s)=>{const n=document.getElementsByClassName(`board-element-${e}-${t}`);n.length&&(0===s&&n?.[0].classList?.add("body-segment--head"),n?.[0].classList?.add("body-segment"))})),p(a(),"food-segment"),p(l(),"food-segment--extra"),t.getObstacles().map((({x:e,y:t},s)=>{const n=document.getElementsByClassName(`board-element-${e}-${t}`);n.length&&n?.[0].classList?.add("obstacle")}))},E=()=>{const e=x();b(e[0],{withoutHead:!0}),t.onObstacle(e[0],{withoutHead:!0}),e[0].x<0||e[0].y<0||e[0].x>=$||e[0].y},k=document.getElementById("play-music-button"),L=document.getElementById("player");k.addEventListener("click",(e=>{L.paused?(L.play(),k.textContent="Pause music"):(L.pause(),k.textContent="Play music")})),window.addEventListener("keyup",(function(e){document.querySelector(`.arrow-key[data-key="${e.keyCode}"]`).classList.remove("press")})),window.addEventListener("keydown",(function(e){document.querySelector(`.arrow-key[data-key="${e.keyCode}"]`).classList.add("press")}));const $=11,C=2;let M=!1;window.setInterval((()=>{B(),w(),M=!0}),1e3/C);const B=()=>{h(),d(),E()};
//# sourceMappingURL=index.bc967803.js.map
